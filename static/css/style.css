/* =========================================
   VARIAVEIS E RESET
   ========================================= */
:root {
    --pip-green: #f5d547;       /* Verde Fósforo */
    --pip-bg: #121f12;          /* Fundo Escuro do Monitor */
    --vault-blue: #004e92;      /* Azul Vault-Tec */
    --vault-yellow: #f5d547;    /* Amarelo Vault-Tec */
    --bg-dark: #1a1a1a;         /* Fundo da Página */
}

* {
    box-sizing: border-box;
}

/* =========================================
   LAYOUT PRINCIPAL (TELA TRAVADA)
   ========================================= */
body {
    background-color: var(--bg-dark);
    font-family: 'Courier New', monospace;
    color: var(--vault-yellow);
    
    /* O Segredo do Footer Fixo: */
    height: 100vh;       /* Ocupa 100% da altura da janela */
    margin: 0;
    overflow: hidden;    /* Proíbe barra de rolagem */
    
    display: flex;
    flex-direction: column; /* Empilha: Header -> Main -> Footer */
}

/* Header e Footer não encolhem e ficam no topo/fundo */
.vault-header, .vault-footer {
    background-color: var(--vault-blue);
    border-top: 4px solid var(--vault-yellow);
    border-bottom: 4px solid var(--vault-yellow);
    padding: 15px 0;
    text-align: center;
    
    flex-shrink: 0; /* Garante que não sejam esmagados */
    z-index: 20;
}

.vault-text {
    text-transform: uppercase;
    letter-spacing: 3px;
    font-weight: bold;
    font-size: 1.2rem;
    margin: 0;
}

/* O Main ocupa todo o espaço que sobra no meio */
main {
    flex-grow: 1;
    position: relative;
    width: 100%;
    
    /* Centraliza o Pip-Boy no espaço vazio */
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden; 
}

/* =========================================
   O PIP-BOY (ÁREA CENTRAL)
   ========================================= */
.pipboy-wrapper {
    position: relative;
    
    /* Tente 60%. Se achar pequeno, suba para 65%. Se grande, 55%. */
    height: 100%;   
    
    /* Largura automática (a imagem decide a largura baseada na altura) */
    width: auto;   
    
    /* Importante para não deformar */
    aspect-ratio: auto; 
    
    display: flex;
    justify-content: center;
    align-items: center;

}

.pipboy-img {
    /* A imagem preenche 100% da caixa que criamos acima */
    height: 100%;        
    width: auto;         
    object-fit: contain; 
    display: block;
    margin-left: 50px;
    filter: drop-shadow(0 0 15px rgba(0,0,0,0.9));

}
/* =========================================
   A TELA DO MONITOR (CALIBRAÇÃO)
   ========================================= */
.pipboy-screen {
    position: absolute;
    
    /* --- ZONA DE CALIBRAÇÃO --- */
    /* Ajuste estes 4 valores até o texto cair dentro do vidro do Pip-Boy */
    
    top: 38%;       /* Sobe ou Desce */
    left: 44%;      /* Esquerda ou Direita */
    width: 45%;     /* Largura da área de texto */
    height: 35%;    /* Altura da área de texto */
    
    /* -------------------------- */
    
    transform: translate(-50%, -50%); /* Centraliza no ponto top/left definido acima */
    
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    z-index: 10;
    
    /* DICA DE DEBUG: Descomente a linha abaixo para ver a caixa vermelha e ajustar */
    /* border: 1px solid red; */
}

/* =========================================
   TIPOGRAFIA E CONTEÚDO DA TELA
   ========================================= */
.radio-info {
    /* MUDANÇA: Define uma largura segura (85%) para não encostar nas bordas */
    width: 85%; 
    
    /* MUDANÇA: Centraliza o bloco .radio-info dentro da tela */
    margin: 0 auto 15px auto; /* 0 topo, auto direita, 15px baixo, auto esquerda */
    
    display: flex;
    flex-direction: column;
    align-items: center;
    
    color: var(--pip-green);
    text-shadow: 0 0 5px var(--pip-green);
}

.label {
    font-size: 1.1rem;
    opacity: 0.7;
    margin-bottom: 5px;
    letter-spacing: 1px;
    width: 100%; 
    text-align: center;
}

.song-title {
    font-size: 1.1rem; 
    font-weight: bold;
    margin: 5px 0;
    text-transform: uppercase;
    line-height: 1.2; /* Um pouco mais de altura pra quando quebrar linha */
    
    /* Configurações de quebra de texto */
    width: 100%;
    text-align: center;
    white-space: normal; /* Permite quebrar linha se o nome for gigante */
    word-wrap: break-word; /* Garante que palavras longas não vazem */
}

.artist-name {
    font-size: 1rem;
    margin: 0 0 10px 0;
    text-transform: uppercase;
    
    width: 100%;
    text-align: center;
    white-space: normal; /* Permite quebrar linha */
}

.time-display {
    font-size: 0.8rem;
    margin-top: 5px;
    width: 100%;
    text-align: center;
}

/* =========================================
   ANIMAÇÃO DAS ONDAS (EQUALIZADOR)
   ========================================= */
.wave-container {
    display: flex;
    justify-content: center;
    align-items: flex-end;
    height: 30px;
    gap: 4px;
}

.bar {
    width: 6px;
    background-color: var(--pip-green);
    box-shadow: 0 0 8px var(--pip-green);
    animation: wave-animation 1s infinite ease-in-out;
}

@keyframes wave-animation {
    0%, 100% { height: 10%; }
    50% { height: 100%; }
}

/* Variação para parecer aleatório */
.bar:nth-child(odd) { animation-duration: 0.8s; }
.bar:nth-child(even) { animation-duration: 1.2s; }

/* =========================================
   CONTROLE DE VOLUME
   ========================================= */
.volume-controls {
    margin-top: 15px;
    width: 80%;
    display: flex;
    justify-content: center;
    align-items: center; /* Garante que o texto fique alinhado com a barra */
    
    /* AQUI ESTÁ O TRUQUE DO ESPAÇO: */
    gap: 15px; /* Distância entre o "VOL" e o Slider */
}

.vol-label {
    font-size: 0.8rem;
    width: 60%;   
    font-weight: bold;
    color: var(--pip-green); /* Mantive verde para combinar com o 'track', mas pode por amarelo se quiser */
    white-space: nowrap; /* Garante que o texto não quebre linha */
}

input[type=range] {
    -webkit-appearance: none; /* Para Chrome, Safari, Opera */
    appearance: none;         /* Padrão oficial moderno */
    
    width: 100%;
    background: transparent;
}

input[type=range]:focus {
    outline: none;
}

/* O Trilho (A linha por onde corre) - Mantive verde estilo terminal */
input[type=range]::-webkit-slider-runnable-track {
    width: 100%;
    height: 6px;
    cursor: pointer;
    background: #0a140a;
    border: 1px solid var(--pip-green);
    box-shadow: 0 0 2px var(--pip-green);
}

/* O Botão (A bolinha que você arrasta) - AGORA AMARELO */
input[type=range]::-webkit-slider-thumb {
    height: 14px; /* Aumentei um pouquinho pra ficar mais fácil de clicar */
    width: 14px;
    
    /* A MUDANÇA DE COR: */
    background: #f5d547; /* Amarelo Vault-Tec */
    box-shadow: 0 0 8px #f5d547; /* Brilho Amarelo */
    
    cursor: pointer;
    -webkit-appearance: none;
    margin-top: -5px; /* Centraliza no trilho (calculo: altura do trilho/2 - altura do botao/2) */
}

/* Ajuste para Firefox (caso use) */
input[type=range]::-moz-range-thumb {
    height: 14px;
    width: 14px;
    background: #f5d547;
    border: none;
    border-radius: 0;
    cursor: pointer;
}

/* =========================================
   OVERLAY (TELA DE "STAND BY")
   ========================================= */
.overlay {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background-color: rgba(0, 0, 0, 0.95);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    transition: opacity 0.5s ease;
    cursor: pointer;
    
    /* Efeito de Scanline TV Antiga no fundo */
    background-image: linear-gradient(
        transparent 50%, 
        rgba(0, 0, 0, 0.5) 50%
    );
    background-size: 100% 4px;
}

.overlay-content {
    text-align: center;
    border: 4px solid var(--vault-yellow);
    padding: 40px;
    background-color: var(--vault-blue);
    box-shadow: 0 0 30px var(--vault-yellow);
    max-width: 90%;
}

.overlay-content h1 {
    font-size: 2.5rem;
    margin-bottom: 20px;
    text-shadow: 3px 3px 0 #000;
}

.overlay-content p {
    font-size: 1.2rem;
    animation: blink 1.5s infinite;
}

@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
}

/* =========================================
   RESPONSIVIDADE (Celulares)
   ========================================= */
@media (max-width: 600px) {
    .pipboy-wrapper {
        width: 100%; /* No celular, usa a largura toda */
        height: auto;
    }
    
    .song-title { font-size: 1rem; }
    .artist-name { font-size: 0.8rem; }
}

.dj-mode .artist-name {
    font-size: 0.3rem;       /* Diminuí mais um pouco a fonte */
    line-height: 1.15;       /* Linhas mais coladas */
    white-space: normal;     /* Permite quebrar linha */
    text-align: justify;     /* Texto justificado */
    
    /* NOVOS LIMITES RÍGIDOS */
    width: 70%;              /* Força o texto a ser mais estreito que a tela */
    margin: 0 auto;          /* Centraliza o bloco de texto horizontalmente */
    max-height: 100px;       /* Reduzi a altura máxima */
    
    /* Barra de rolagem discreta se precisar */
    overflow-y: auto;        
    overflow-x: hidden;
    padding: 0 5px;          /* Um pequeno respiro nas laterais */

    /* Esconde a barra de rolagem (estética Pip-Boy) */
    scrollbar-width: none;
    -ms-overflow-style: none;
}

.dj-mode .artist-name::-webkit-scrollbar {
    display: none; /* Chrome/Safari */
}

/* Status piscando (para "Recebendo Sinal...") */
.blink-text {
    animation: blink-animation 1s steps(2, start) infinite;
}

@keyframes blink-animation {
    to { visibility: hidden; }
}

.inner-container.dj-active .wave-container,
.inner-container.dj-active .volume-controls {
    display: none !important;
}

/* 2. Reconfigura o texto para ocupar o espaço que sobrou */
.inner-container.dj-active .artist-name {
    font-size: 0.85rem;      /* Fonte legível */
    line-height: 1.3;        /* Mais espaço entre linhas para leitura confortável */
    white-space: normal;     /* Quebra de linha */
    text-align: justify;     /* Texto justificado */
    
    /* AGORA PODEMOS USAR O ESPAÇO EXTRA! */
    width: 80%;              
    margin: 10px auto 0 auto; /* Um pouco de margem no topo */
    
    /* Aumentei muito a altura máxima pois não tem mais volume/barras atrapalhando */
    max-height: 250px;       
    
    overflow-y: auto;        
    padding-right: 5px;      

    /* Esconde scrollbar */
    scrollbar-width: none;
    -ms-overflow-style: none;
}

/* =========================================
   PERSONAGENS LATERAIS (VAULT BOYS)
   ========================================= */
.side-char {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: auto;
    z-index: 5;
    pointer-events: none;

    /* --- A MUDANÇA ESTÁ AQUI --- */
    /* O segredo é usar o drop-shadow com a cor amarela do tema (#f5d547).
       Eu coloquei dois filtros seguidos:
       1. O primeiro (3px) cria um contorno mais fino e definido perto do corpo.
       2. O segundo (15px) cria um brilho mais difuso em volta. */
    filter: drop-shadow(0 0 3px #f5d547) drop-shadow(0 0 15px #f5d547);
    
}

/* ESQUERDA (Banjo) */
.char-left {
    left: 1%;       
    
    /* MUDANÇA 2: Altura específica para o Banjo */
    /* Como ele é largo, diminuímos um pouco a altura para não ficar gigante */
    height: 70%;    
   
}

/* DIREITA (Microfone/DJ) */
.char-right {
    right: 1%;   
    left: 60%;   
    
    /* MUDANÇA 3: Altura maior para o Microfone */
    /* Como ele é magro, aumentamos a altura para compensar visualmente */
    height: 85%; 
     
}

/* =========================================
   RESPONSIVIDADE 
   ========================================= */
@media (max-width: 1200px) {
    /* Esconde se a tela for pequena para não tapar o Pip-Boy */
    .side-char {
        display: none;
    }
}